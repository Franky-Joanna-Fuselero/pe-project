<div id="exam-content" class="flex flex-1 flex-col gap-y-4 mx-8 ">
    {% for record in exam_records %}
    <div class="flex flex-1">
        <details class="flex flex-1 flex-col bg-white rounded-xl shadow-sm ring-1 ring-gray-950/5">
            <summary class="flex flex-1 p-4 bg-blue-900 text-white font-bold text-lg rounded-xl justify-between">
                <span>Record #{{ record.attempt }}<span class="text-xs font-semibold text-gray-300"> Total Score : {{ record.total_score }}pts</span></span>
                
                <button hx-get="{{ route('exam_records.show', { exam: exam, exam_record: record}) }}" 
                        hx-target="#exam-content"
                        hx-swap="outerHTML">
                    See full report
                </button>
            </summary>
            
                <div class="flex flex-1 flex-col prose max-w-none gap-y-4">
                    <div class="px-4 rounded-2xl text-gray-800">            
                        <table>
                            <thead>
                            <tr>
                                <th>Subject</th>
                                <th>Total Score</th>
                                <th>Scores Obtained</th>
                            </tr>
                            </thead>
                            <tbody>
                                {% for subject in record.subjects %}
                                <tr>
                                    <td>{{ subject.subject_name }}</td>
                                    <td>{{ subject.score }}</td>
                                    <td>{{ subject.score_obtained }}</td>
                                </tr>
                                {% endfor %}
                            </tbody>
                        </table>
                    </div>
                </div>
            
        </details>
    </div>
    {% endfor %}
</div>